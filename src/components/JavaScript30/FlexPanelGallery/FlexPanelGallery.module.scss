@import '../../../assets/styles/variables';

.FlexPanelGallery {
  .panels {
    overflow: hidden;
    display: flex;
    flex-wrap: wrap;

    .panel {
      background: #6b0f9c;
      color: white;
      text-align: center;
      align-items: center;
      min-height: 24em;
      /* Safari transitionend event.propertyName === flex */
      /* Chrome + FF transitionend event.propertyName === flex-grow */
      transition: font-size .7s cubic-bezier(.61, -.19, .7, -.11),
        flex .7s cubic-bezier(.61, -.19, .7, -.11), background .2s;
      font-size: 20px;
      background-size: cover;
      background-position: center;
      flex: 1;
      justify-content: center;
      align-items: center;
      display: flex;
      flex-direction: column;

      > * {
        margin: 0;
        width: 100%;
        transition: transform .5s;
        flex: 1 0 auto;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      > *:first-child {
        transform: translateY(-100%);
        pointer-events: none;
      }
      > *:last-child {
        transform: translateY(100%);
        pointer-events: none;
      }

      p {
        text-transform: uppercase;
        font-family: 'Amatic SC', cursive;
        font-weight: bold;
        -webkit-text-stroke-width: .05em;
        -webkit-text-stroke-color: $black;
        font-size: 1.25em;
        color: $white;
        opacity: 0;
        transition: all .6s cubic-bezier(.61, -.19, .7, -.11);
        padding: .5em;
        word-break: unset;

        &:nth-child(2) {
          font-size: 2em;
          color: $white;
        }

        &.primary {
          opacity: 1;
        }
      }

      &.open {
        font-size: 1.5em;
        flex: 5;

        p {
          opacity: 1;
        }
      }

      &.open-active {
        > *:first-child {
          transform: translateY(0);
        }
        > *:last-child {
          transform: translateY(0);
        }
      }

      &.panel1 {
        background-image: url('/assets/img/javascript30/5-flex-panel-gallery/panel-1.jpg');
      }
      &.panel2 {
        background-image: url('/assets/img/javascript30/5-flex-panel-gallery/panel-2.jpg');
      }
      &.panel3 {
        background-image: url('/assets/img/javascript30/5-flex-panel-gallery/panel-3.jpg');
      }
      &.panel4 {
        background-image: url('/assets/img/javascript30/5-flex-panel-gallery/panel-4.jpg');
      }
      &.panel5 {
        background-image: url('/assets/img/javascript30/5-flex-panel-gallery/panel-5.jpg');
      }
    }
  }
}